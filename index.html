<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simon Vande Rosieren | RevOps Systems Consultant</title>

  <!-- External scripts -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

    :root {
      --midnight-navy: #172554;
      --soft-slate: #F8FAFC;
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: #FFFFFF;
      color: var(--midnight-navy);
      margin: 0;
      padding: 0;
    }

    .section-container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 2rem;
    }

    /* CRM Preview Window */
    .crm-window {
      background: #ffffff;
      border-radius: 12px;
      box-shadow: 0 30px 60px rgba(23, 37, 84, 0.12);
      border: 1px solid #e2e8f0;
      overflow: hidden;
      height: 520px;
      display: flex;
      flex-direction: column;
    }

    .crm-header {
      height: 44px;
      background: #f1f5f9;
      border-bottom: 1px solid #e2e8f0;
      display: flex;
      align-items: center;
      padding: 0 16px;
      gap: 8px;
    }

    .dot { width: 10px; height: 10px; border-radius: 50%; }

    .pipeline-stage {
      flex: 1;
      padding: 16px;
      background: #f8fafc;
      border-right: 1px solid #f1f5f9;
      min-width: 150px;
    }

    .deal-card {
      background: white;
      border: 1px solid #e2e8f0;
      padding: 12px;
      border-radius: 6px;
      margin-bottom: 10px;
      font-size: 11px;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    .status-badge {
      padding: 3px 8px;
      border-radius: 4px;
      font-weight: 800;
      text-transform: uppercase;
      font-size: 9px;
      display: inline-block;
    }

    .step-active-text {
      color: var(--midnight-navy);
      opacity: 1 !important;
      transform: translateX(12px);
      font-weight: 800;
    }

    .btn-midnight {
      background-color: var(--midnight-navy);
      color: white;
      transition: all 0.3s ease;
    }

    .btn-midnight:hover {
      background-color: #1e3a8a;
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(23, 37, 84, 0.2);
    }

    .pipeline-scroll::-webkit-scrollbar { width: 4px; }
    .pipeline-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }

    /* Loader */
    #loader {
      position: fixed;
      inset: 0;
      background: white;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 100;
      transition: opacity 0.5s ease;
    }

    /* Scrubber + toggles + signals */
    .act-btn.active {
      background: var(--midnight-navy);
      color: white;
      box-shadow: 0 10px 20px rgba(23, 37, 84, 0.18);
    }

    .toggle-pill{
      font-size: 9px;
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: .18em;
      border: 1px solid #e2e8f0;
      border-radius: 999px;
      padding: 10px 10px;
      text-align: center;
      color: #94a3b8;
      background: #fff;
      user-select: none;
    }
    .toggle-pill.on{
      border-color: rgba(23, 37, 84, 0.25);
      color: var(--midnight-navy);
      background: #f8fafc;
    }

    .signals-box{
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      padding: 14px;
      background: white;
      font-size: 10px;
      color: #64748b;
    }
    .signals-box strong{ color: var(--midnight-navy); }
  </style>
</head>

<body class="antialiased opacity-0 transition-opacity duration-700" id="main-body">

  <!-- Loader -->
  <div id="loader">
    <div class="text-[10px] font-black tracking-widest uppercase animate-pulse">Initialisation RevOps...</div>
  </div>

  <!-- Navigation -->
  <nav class="fixed top-0 w-full z-50 py-6 bg-white/80 backdrop-blur-lg border-b border-slate-100">
    <div class="section-container flex justify-between items-center">
      <div class="text-sm font-black tracking-tighter uppercase flex items-center gap-3 text-[#172554]">
        <div class="w-8 h-8 bg-[#172554] rounded-lg flex items-center justify-center text-white text-[10px]">SV</div>
        Simon Vande Rosieren
      </div>
      <div class="hidden md:flex items-center gap-10">
        <a href="#concept" class="text-[11px] font-bold text-slate-400 uppercase tracking-widest hover:text-[#172554] transition-colors">Concept</a>
        <a href="#about" class="text-[11px] font-bold text-slate-400 uppercase tracking-widest hover:text-[#172554] transition-colors">Stack</a>
        <a href="#contact" class="btn-midnight px-6 py-3 rounded-full text-[10px] font-bold uppercase tracking-widest">Projet</a>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <section class="pt-52 pb-28">
    <div class="section-container">
      <div class="max-w-4xl">
        <div class="inline-flex items-center gap-3 mb-10 px-4 py-1.5 border border-[#172554]/10 text-slate-500 rounded-full text-[10px] font-bold tracking-[0.2em] uppercase bg-slate-50">
          <span class="w-2 h-2 bg-emerald-500 rounded-full animate-pulse"></span>
          RevOps Systems Consultant
        </div>

        <!-- HERO: plus court + verbe d'action -->
        <h1 class="text-6xl md:text-8xl font-extrabold tracking-tighter leading-[0.92] mb-10 text-[#172554]">
          Je débloque <br>votre closing.
        </h1>

        <p class="text-xl text-slate-500 mb-12 max-w-2xl leading-relaxed font-medium">
          Funnel + CRM + data + automatisations : j’élimine les frictions et j’aligne Marketing & Sales sur les bons signaux pour rendre votre pipeline plus propre et plus performant.
        </p>

        <div class="flex flex-wrap gap-6">
          <a href="#contact" class="btn-midnight px-12 py-5 rounded-full font-bold text-xs uppercase tracking-widest">
            Parler de votre projet
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- INTERFACE NARRATIVE (Animation 3 Actes) -->
  <section id="concept" class="py-24 bg-[#F8FAFC] border-y border-slate-200 overflow-hidden">
    <div class="section-container">
      <div class="grid grid-cols-1 lg:grid-cols-12 gap-16 items-start">

        <!-- Texte Narratif (Gauche) -->
        <div class="lg:col-span-4 space-y-12 py-10">
          <div id="text-1" class="opacity-20 transition-all duration-700">
            <span class="text-[10px] font-black uppercase tracking-[0.4em] text-red-500 mb-4 block">Acte 1 — Avant</span>
            <h3 class="text-3xl font-black mb-4 tracking-tighter">Outil ≠ Décision</h3>
            <p class="text-sm text-slate-500 leading-relaxed font-medium">
              Pipeline gonflé, étapes floues, aucune priorité claire. On travaille dur, mais on navigue à vue.
            </p>
          </div>

          <div id="text-2" class="opacity-20 transition-all duration-700">
            <span class="text-[10px] font-black uppercase tracking-[0.4em] text-blue-600 mb-4 block">Acte 2 — Impact</span>
            <h3 class="text-3xl font-black mb-4 tracking-tighter">Structuration RevOps</h3>
            <p class="text-sm text-slate-500 leading-relaxed font-medium">
              Règles de qualification, centralisation des signaux, enrichissement & contextualisation : le CRM aide enfin à décider.
            </p>
          </div>

          <div id="text-3" class="opacity-20 transition-all duration-700">
            <span class="text-[10px] font-black uppercase tracking-[0.4em] text-emerald-600 mb-4 block">Acte 3 — Après</span>
            <h3 class="text-3xl font-black mb-4 tracking-tighter">Focus & Closing</h3>
            <p class="text-sm text-slate-500 leading-relaxed font-medium">
              3 priorités, next steps clairs, pipeline nettoyé : on vend mieux, avec moins d’énergie perdue.
            </p>
          </div>
        </div>

        <!-- Interface CRM (Droite) -->
        <!-- IMPORTANT: wrapper pour le pin (fix scroll acte 3) -->
        <div id="crm-pin" class="lg:col-span-8">
          <div class="crm-window shadow-2xl">
            <div class="crm-header">
              <div class="dot bg-red-400/50"></div><div class="dot bg-amber-400/50"></div><div class="dot bg-emerald-400/50"></div>
              <div class="ml-4 h-4 w-40 bg-slate-200/50 rounded-full"></div>
            </div>

            <div class="flex-1 flex overflow-hidden bg-white">
              <!-- Pipeline -->
              <div class="pipeline-stage">
                <div id="stage-1-title" class="text-[10px] font-black text-slate-400 uppercase mb-5 tracking-widest">Prospects</div>
                <div id="deals-col-1" class="pipeline-scroll overflow-y-auto h-full pr-1"></div>
              </div>
              <div class="pipeline-stage">
                <div id="stage-2-title" class="text-[10px] font-black text-slate-400 uppercase mb-5 tracking-widest">En cours</div>
                <div id="deals-col-2" class="pipeline-scroll overflow-y-auto h-full pr-1"></div>
              </div>
              <div class="pipeline-stage">
                <div id="stage-3-title" class="text-[10px] font-black text-slate-400 uppercase mb-5 tracking-widest">Fermeture</div>
                <div id="deals-col-3" class="pipeline-scroll overflow-y-auto h-full pr-1"></div>
              </div>

              <!-- Panneau Latéral -->
              <div id="side-panel" class="w-72 border-l border-slate-100 p-8 bg-slate-50/30">
                <div class="text-[10px] font-black text-slate-400 uppercase mb-8 tracking-widest">Fiche Contact</div>

                <div id="contact-card-content" class="space-y-6">
                  <div class="flex gap-4 items-center">
                    <div id="contact-avatar" class="h-12 w-12 bg-slate-200 rounded-full flex-shrink-0"></div>
                    <div class="leading-tight">
                      <div id="contact-name" class="font-black text-sm text-slate-300">—</div>
                      <div id="contact-company" class="text-[11px] font-bold text-slate-400">—</div>
                    </div>
                  </div>

                  <hr class="border-slate-200">

                  <div class="space-y-3">
                    <div class="flex items-center justify-between text-[10px]">
                      <span class="font-bold text-slate-400 uppercase tracking-widest">Source</span>
                      <span id="field-source" class="font-black text-slate-300">—</span>
                    </div>
                    <div class="flex items-center justify-between text-[10px]">
                      <span class="font-bold text-slate-400 uppercase tracking-widest">Fit</span>
                      <span id="field-fit" class="font-black text-slate-300">—</span>
                    </div>
                    <div class="flex items-center justify-between text-[10px]">
                      <span class="font-bold text-slate-400 uppercase tracking-widest">Intent</span>
                      <span id="field-intent" class="font-black text-slate-300">—</span>
                    </div>
                    <div class="flex items-center justify-between text-[10px]">
                      <span class="font-bold text-slate-400 uppercase tracking-widest">Next action</span>
                      <span id="field-next" class="font-black text-slate-300">—</span>
                    </div>
                  </div>

                  <div class="mt-2 grid grid-cols-3 gap-2">
                    <div id="toggle-rules" class="toggle-pill">Rules</div>
                    <div id="toggle-enrich" class="toggle-pill">Enrich</div>
                    <div id="toggle-ai" class="toggle-pill">AI</div>
                  </div>

                  <div id="signals-box" class="signals-box mt-4"></div>
                  <div id="ia-badge-container"></div>
                </div>

              </div>
            </div>

            <!-- Barre de statut -->
            <div class="h-14 bg-white border-t border-slate-100 px-8 flex items-center justify-between">
              <div class="text-[10px] font-bold text-slate-400 uppercase tracking-tighter" id="status-bar">Diagnostic...</div>
              <div class="flex items-center gap-4">
                <div class="text-[9px] font-black text-slate-300 uppercase tracking-widest">Revenue Forecast</div>
                <div id="revenue-gauge" class="w-24 h-2 bg-slate-100 rounded-full overflow-hidden">
                  <div id="revenue-fill" class="h-full bg-[#172554] w-0 transition-all duration-1000"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Scrubber -->
          <div class="mt-6 flex items-center justify-between gap-4">
            <div class="flex gap-2 rounded-full border border-slate-200 bg-white p-1 shadow-sm">
              <button data-act="0" class="act-btn px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest text-slate-500">Avant</button>
              <button data-act="1" class="act-btn px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest text-slate-500">Impact</button>
              <button data-act="2" class="act-btn px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest text-slate-500">Après</button>
            </div>
            <div class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">
              Démo — cliquez / scrollez
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- Section Stack / About (renforcée) -->
  <section id="about" class="py-32">
    <div class="section-container">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-20 items-start">

        <!-- Stack card -->
        <div class="relative">
          <div class="bg-slate-50 border border-slate-200 rounded-2xl p-10">
            <div class="text-[10px] font-black text-[#172554] uppercase tracking-[0.4em]">Stack</div>
            <h3 class="text-3xl font-extrabold tracking-tighter mt-3 mb-8">RevOps & Automation</h3>

            <div class="grid grid-cols-2 gap-6">
              <div class="p-4 bg-white border border-slate-100 rounded-xl shadow-sm">
                <div class="text-[9px] font-bold text-slate-400 uppercase mb-2">Automation</div>
                <div class="font-bold text-sm">Make.com / Zapier</div>
              </div>
              <div class="p-4 bg-white border border-slate-100 rounded-xl shadow-sm">
                <div class="text-[9px] font-bold text-slate-400 uppercase mb-2">CRM</div>
                <div class="font-bold text-sm">HubSpot / Salesforce</div>
              </div>
              <div class="p-4 bg-white border border-slate-100 rounded-xl shadow-sm">
                <div class="text-[9px] font-bold text-slate-400 uppercase mb-2">Data</div>
                <div class="font-bold text-sm">APIs / SQL / Sync</div>
              </div>
              <div class="p-4 bg-white border border-slate-100 rounded-xl shadow-sm">
                <div class="text-[9px] font-bold text-slate-400 uppercase mb-2">Outbound</div>
                <div class="font-bold text-sm">Lemlist / Sales Nav</div>
              </div>
            </div>

            <!-- Logos -->
            <div class="mt-10">
              <div class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-4">Outils</div>
              <div class="grid grid-cols-3 sm:grid-cols-4 gap-5 items-center opacity-90">
                <!-- Place tes logos ici (dans /assets/logos/) -->
                <img class="h-6 w-auto" src="./assets/logos/hubspot.svg" alt="HubSpot" />
                <img class="h-6 w-auto" src="./assets/logos/salesforce.svg" alt="Salesforce" />
                <img class="h-6 w-auto" src="./assets/logos/make.svg" alt="Make" />
                <img class="h-6 w-auto" src="./assets/logos/zapier.svg" alt="Zapier" />
                <img class="h-6 w-auto" src="./assets/logos/lemlist.svg" alt="Lemlist" />
                <img class="h-6 w-auto" src="./assets/logos/linkedin.svg" alt="LinkedIn Sales Navigator" />
                <img class="h-6 w-auto" src="./assets/logos/dropcontact.svg" alt="Dropcontact" />
                <img class="h-6 w-auto" src="./assets/logos/fullenrich.svg" alt="FullEnrich" />
                <!-- Ajoute : reply, zapmail, user.com, sarbacane, etc. -->
              </div>
              <div class="text-[11px] text-slate-400 mt-5 leading-relaxed">
                (Si tu n’as pas encore les logos, crée le dossier <span class="font-bold">/assets/logos/</span> et ajoute les fichiers en SVG/PNG.)
              </div>
            </div>
          </div>
        </div>

        <!-- About text (titre moins “pitch”) -->
        <div class="pt-2">
          <h2 class="text-4xl md:text-5xl font-extrabold tracking-tighter text-[#172554] mb-8 leading-tight">
            10+ ans entre Sales, Ops et Revenue Systems.
          </h2>

          <p class="text-slate-500 text-lg leading-relaxed mb-6">
            J’ai construit et opéré des systèmes d’acquisition, d’automation et de Sales Ops dans des environnements B2B (Sarbacane, Sarbacane Chat, User.com).
            Aujourd’hui, j’aide les équipes à structurer leur moteur de revenu : funnel, CRM, data, automatisations et process.
          </p>

          <p class="text-slate-500 text-lg leading-relaxed mb-10">
            Je suis à l’aise autant sur la stratégie (stages, scoring, SLA, reporting) que sur l’exécution (Make, API, enrichissement, séquences, CRM).
            Objectif : décisions plus rapides, pipeline plus propre, closing plus stable.
          </p>

          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div class="p-6 border border-slate-100 rounded-2xl hover:bg-slate-50 transition-colors">
              <div class="text-[10px] font-black uppercase tracking-[0.3em] text-slate-400 mb-2">Interventions</div>
              <div class="font-bold">Audit RevOps → Build → Itérations</div>
              <div class="text-sm text-slate-400 mt-1">Simple, robuste, maintenable.</div>
            </div>
            <div class="p-6 border border-slate-100 rounded-2xl hover:bg-slate-50 transition-colors">
              <div class="text-[10px] font-black uppercase tracking-[0.3em] text-slate-400 mb-2">Résultat</div>
              <div class="font-bold">Pipeline plus propre, actions claires</div>
              <div class="text-sm text-slate-400 mt-1">Moins de bruit, plus de deals.</div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </section>

  <!-- Contact: FORM -->
  <section id="contact" class="py-28 bg-[#172554] text-white">
    <div class="section-container max-w-4xl">
      <div class="text-center">
        <h2 class="text-5xl md:text-6xl font-extrabold tracking-tighter mb-8">Parlons de votre projet.</h2>
        <p class="text-blue-200 text-xl font-medium max-w-2xl mx-auto">
          Décris ton contexte (stack, volume, étapes du funnel, enjeu principal). Je reviens vers toi sous 48h ouvrées.
        </p>
      </div>

      <!-- Formspree: remplace XXXXX -->
      <form
        action="https://formspree.io/f/XXXXX"
        method="POST"
        class="mt-14 grid grid-cols-1 md:grid-cols-2 gap-4 text-left"
      >
        <input name="prenom" required placeholder="Prénom"
          class="w-full rounded-xl px-5 py-4 text-[#172554] placeholder-slate-400 outline-none focus:ring-2 focus:ring-blue-200" />
        <input name="nom" required placeholder="Nom"
          class="w-full rounded-xl px-5 py-4 text-[#172554] placeholder-slate-400 outline-none focus:ring-2 focus:ring-blue-200" />

        <input type="email" name="email" required placeholder="Email"
          class="w-full rounded-xl px-5 py-4 text-[#172554] placeholder-slate-400 outline-none focus:ring-2 focus:ring-blue-200" />
        <input name="telephone" placeholder="Téléphone"
          class="w-full rounded-xl px-5 py-4 text-[#172554] placeholder-slate-400 outline-none focus:ring-2 focus:ring-blue-200" />

        <input name="entreprise" required placeholder="Entreprise"
          class="md:col-span-2 w-full rounded-xl px-5 py-4 text-[#172554] placeholder-slate-400 outline-none focus:ring-2 focus:ring-blue-200" />

        <textarea name="message" required rows="5"
          placeholder="Ex: pipeline existe mais faible conversion SQL→Won, CRM sale, pas de scoring, relances manuelles, data éclatée…"
          class="md:col-span-2 w-full rounded-xl px-5 py-4 text-[#172554] placeholder-slate-400 outline-none focus:ring-2 focus:ring-blue-200"></textarea>

        <button type="submit"
          class="md:col-span-2 bg-white text-[#172554] px-12 py-5 rounded-full font-bold text-sm uppercase tracking-widest hover:bg-blue-50 transition-all">
          Parler de votre projet
        </button>

        <div class="md:col-span-2 text-center text-[11px] text-blue-200">
          Pas de spam. Réponse sous 48h ouvrées. <a class="underline underline-offset-4 hover:text-white" href="https://linkedin.com/in/simon-vanderosieren" target="_blank">LinkedIn</a>
        </div>
      </form>
    </div>
  </section>

  <footer class="py-14 border-t border-slate-100">
    <div class="section-container flex flex-col md:flex-row justify-between items-center gap-8 text-[10px] font-bold text-slate-400 uppercase tracking-[0.3em]">
      <div>© 2025 Simon Vande Rosieren</div>
      <div class="flex gap-10">
        <a href="#" class="hover:text-[#172554]">Mentions légales</a>
      </div>
    </div>
  </footer>

  <script>
    window.onload = function () {
      // Loader
      document.getElementById('loader').style.opacity = '0';
      setTimeout(() => {
        document.getElementById('loader').style.display = 'none';
        document.getElementById('main-body').classList.remove('opacity-0');
      }, 500);

      // Icons
      lucide.createIcons();

      // Elements
      const dealsCol1 = document.getElementById('deals-col-1');
      const dealsCol2 = document.getElementById('deals-col-2');
      const dealsCol3 = document.getElementById('deals-col-3');
      const statusBar = document.getElementById('status-bar');
      const revenueFill = document.getElementById('revenue-fill');
      const stage1Title = document.getElementById('stage-1-title');
      const stage2Title = document.getElementById('stage-2-title');

      const dealNames = ["Acme Corp", "Globex", "Initech", "Umbrella", "Cyberdyne", "Soylent", "Stark Ind.", "Wayne Ent.", "Tyrell Corp", "Oscorp"];

      function clearPipeline() {
        dealsCol1.innerHTML = '';
        dealsCol2.innerHTML = '';
        dealsCol3.innerHTML = '';
      }

      function createDeal(name, status = null) {
        const deal = document.createElement('div');
        deal.className = 'deal-card opacity-0 translate-y-2';
        const badge = status ? `<div class="status-badge ${status.bg} ${status.text} mt-2">${status.label}</div>` : '';
        deal.innerHTML = `
          <div class="font-black text-[#172554]">${name}</div>
          <div class="w-2/3 h-1 bg-slate-50 rounded mt-2"></div>
          ${badge}
        `;
        gsap.to(deal, { opacity: 1, y: 0, duration: 0.45 });
        return deal;
      }

      function setBeforeCard() {
        document.getElementById('contact-avatar').className = "h-12 w-12 bg-slate-200 rounded-full flex-shrink-0";
        document.getElementById('contact-avatar').innerText = "";
        document.getElementById('contact-name').innerText = "Prospect inconnu";
        document.getElementById('contact-company').innerText = "Entreprise : —";
        document.getElementById('field-source').innerText = "—";
        document.getElementById('field-fit').innerText = "—";
        document.getElementById('field-intent').innerText = "—";
        document.getElementById('field-next').innerText = "—";
        ["toggle-rules","toggle-enrich","toggle-ai"].forEach(id => document.getElementById(id).classList.remove('on'));
        document.getElementById('signals-box').innerHTML =
          "<strong>Symptômes :</strong><br>Pipeline gonflé • étapes floues • peu de contexte • priorités inexistantes.";
        document.getElementById('ia-badge-container').innerHTML = '';
      }

      function setImpactCard() {
        document.getElementById('contact-avatar').className =
          "h-12 w-12 bg-[#172554] rounded-full flex-shrink-0 flex items-center justify-center text-white font-bold text-xs";
        document.getElementById('contact-avatar').innerText = "JD";
        document.getElementById('contact-name').innerText = "Jean Dupont";
        document.getElementById('contact-company').innerText = "Globex — Head of Ops";
        document.getElementById('field-source').innerText = "Outbound + intent";
        document.getElementById('field-fit').innerText = "High";
        document.getElementById('field-intent').innerText = "Pricing / ROI";
        document.getElementById('field-next').innerText = "Call + contexte";
        document.getElementById('toggle-rules').classList.add('on');
        document.getElementById('toggle-enrich').classList.add('on');
        document.getElementById('toggle-ai').classList.add('on');
        document.getElementById('signals-box').innerHTML =
          "<strong>Signals :</strong><br>Tech stack détecté • taille + secteur • historique • score priorité.<br><strong>Recommandation :</strong> relance contextualisée.";

        document.getElementById('ia-badge-container').innerHTML = `
          <div class="p-4 bg-blue-50 border border-blue-100 rounded-xl mt-4 opacity-0 scale-95" id="ia-box">
            <div class="text-[9px] font-black text-blue-800 uppercase mb-2">Intelligence IA</div>
            <div class="text-[10px] text-blue-900 font-semibold leading-snug">Score : 94/100. Compte prioritaire.<br>Action : relance contextualisée.</div>
          </div>
        `;
        gsap.to("#ia-box", { opacity: 1, scale: 1, duration: 0.45 });
      }

      function setAfterCard() {
        document.getElementById('contact-name').innerText = "Compte prioritaire";
        document.getElementById('contact-company').innerText = "Globex — Deal en closing";
        document.getElementById('field-source').innerText = "Qualified";
        document.getElementById('field-fit').innerText = "High";
        document.getElementById('field-intent').innerText = "Urgent";
        document.getElementById('field-next').innerText = "Demo → closing";
        document.getElementById('toggle-rules').classList.add('on');
        document.getElementById('toggle-enrich').classList.add('on');
        document.getElementById('toggle-ai').classList.add('on');
        document.getElementById('signals-box').innerHTML =
          "<strong>Résultat :</strong><br>Pipeline nettoyé • focus sur 3 deals • next steps clairs • closing accéléré.";

        document.getElementById('ia-badge-container').innerHTML = `
          <button class="w-full py-4 bg-[#172554] text-white text-[10px] font-black rounded-xl uppercase tracking-widest mt-4 shadow-xl shadow-blue-900/20 hover:scale-105 transition-transform opacity-0" id="cta-onboard">
            Lancer Onboarding
          </button>
        `;
        gsap.to("#cta-onboard", { opacity: 1, duration: 0.45 });
      }

      function ACTE_1() {
        clearPipeline();
        for (let i = 0; i < 8; i++) dealsCol1.appendChild(createDeal(dealNames[i]));
        for (let i = 0; i < 6; i++) dealsCol2.appendChild(createDeal(dealNames[i + 2]));

        stage1Title.innerText = "PROSPECTS (BRUT)";
        stage2Title.innerText = "EN COURS (?)";
        statusBar.innerText = "ALERTE : NAVIGUE À VUE / KPI CONTRADICTOIRES";
        statusBar.className = "text-[10px] font-black text-red-500 uppercase tracking-tighter";
        revenueFill.style.width = "15%";

        setBeforeCard();
      }

      function ACTE_2() {
        clearPipeline();
        ["Globex", "Stark Ind.", "Initech"].forEach(name =>
          dealsCol1.appendChild(createDeal(name, { label: 'SIGNAL DÉTECTÉ', bg: 'bg-blue-100', text: 'text-blue-700' }))
        );
        ["Acme Corp", "Wayne Ent."].forEach(name =>
          dealsCol2.appendChild(createDeal(name, { label: 'VÉRIFIÉ', bg: 'bg-indigo-100', text: 'text-indigo-700' }))
        );

        stage1Title.innerText = "MQL QUALIFIÉS";
        stage2Title.innerText = "SQL VÉRIFIÉS";
        statusBar.innerText = "SYSTÈME REVOPS : DÉCISION AIDÉE PAR LA DATA";
        statusBar.className = "text-[10px] font-black text-blue-600 uppercase tracking-tighter";
        revenueFill.style.width = "45%";

        setImpactCard();
      }

      function ACTE_3() {
        clearPipeline();
        dealsCol2.appendChild(createDeal("Stark Ind.", { label: 'PRIORITÉ HAUTE', bg: 'bg-emerald-100', text: 'text-emerald-700' }));

        const wonDeal = createDeal("Globex — SIGNÉ", { label: 'WON', bg: 'bg-emerald-500', text: 'text-white' });
        wonDeal.className += " border-emerald-500 shadow-lg shadow-emerald-100";
        dealsCol3.appendChild(wonDeal);

        statusBar.innerText = "STABILITÉ : PIPELINE PLUS PROPRE & FOCUS CLOSING";
        statusBar.className = "text-[10px] font-black text-emerald-600 uppercase tracking-tighter";
        revenueFill.style.width = "95%";

        setAfterCard();
      }

      // Act control
      gsap.registerPlugin(ScrollTrigger);
      const acts = [ACTE_1, ACTE_2, ACTE_3];
      let lastAct = -1;

      function setAct(index) {
        if (index === lastAct) return;
        acts[index]();
        lastAct = index;

        // Text highlight
        [1,2,3].forEach(i => {
          const el = document.getElementById(`text-${i}`);
          if (i === index + 1) {
            el.classList.add('step-active-text');
            el.style.opacity = "1";
          } else {
            el.classList.remove('step-active-text');
            el.style.opacity = "0.2";
          }
        });

        // Scrubber
        document.querySelectorAll('.act-btn').forEach(btn => {
          btn.classList.toggle('active', Number(btn.dataset.act) === index);
        });
      }

      // ✅ FIX: pin l'interface pour que l'acte 3 soit visible (plus de "scroll trop bas")
      ScrollTrigger.create({
        trigger: "#concept",
        start: "top top",
        end: "+=900",      // ajuste 700–1200 si besoin
        pin: "#crm-pin",
        pinSpacing: true,
        scrub: false,
        onUpdate: (self) => {
          const p = self.progress;
          let currentAct = 0;
          if (p > 0.28) currentAct = 1;
          if (p > 0.62) currentAct = 2;
          setAct(currentAct);
        }
      });

      // Click scrubber
      document.querySelectorAll('.act-btn').forEach(btn => {
        btn.addEventListener('click', () => setAct(Number(btn.dataset.act)));
      });

      // Initial
      setAct(0);
    };
  </script>
</body>
</html>
